<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>String</title>
  <style>
      .wrapper{
        display: grid;
        grid-template-columns: 1fr 1000px 1fr;
      }
      .toc{
        background-color: darkcyan;
      }
      .note{
        background-color: darkcyan;
      }
      .main{
        padding: 20px;
      }
      blockquote{
        background-color: lightblue;
        font-size: large;
        margin: 0px;
        padding-top: 10px;
        padding-bottom: 10px;
      }
    table {
      border-collapse: collapse;
      margin: 0 auto;
    }

    td,
    th {
      padding: 10px;
    }

    th {
      color: #fff;
      background: #005ab3;
    }

    table tr:nth-child(odd) {
      background: #e6f2ff;
    }
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="wrapper">
<div class="toc">

</div>
<div class="main">
<h1 id="文字列">文字列</h1>
<h2 id="c言語に文字列はない">C言語に文字列はない</h2>
<p>さて、メモリとポインタの話を終えて、C言語とC言語が扱っている機械としてのコンピュータの説明はほぼ終わった。</p>
<blockquote>
<p>「途中、だいぶ振り落とされそうになりましたが、なんとかここまではついてこられました・・・」</p>
</blockquote>
<p>ご苦労さん。でもなかなか面白かっただろう？</p>
<p>さてここまで、C言語のデータ型や構文、制御構造やライブラリなど普通のC言語の本で書いてあるようなことはほぼやっていない。それらは他の言語をやっていればそんなに難しくないと思う。特に、JavaのようなCに似せた構文の言語を勉強しているならなおさらだ。興味があれば、適当な本を買ってもいいし、ネットの解説記事を読んでもすぐに理解できるだろう。</p>
<p>ただし、もう1つだけ他の言語とまったく違う概念を持つ言語仕様について説明しておく必要がある。非常に重要な言語仕様で、日常的に良く使う必須の機能だが、 C言語の初心者、特にこれまで説明したメモリとポインタの話を理解できていないプログラマが決して触ってはいけないものなんだ。それは・・・</p>
<blockquote>
<p>「ゴクリ・・・」</p>
</blockquote>
<p>文字列だ。</p>
<blockquote>
<p>「へ？文字列型？いわゆるStringですか？」</p>
</blockquote>
<p>そうだ。その文字列だ。</p>
<blockquote>
<p>「やだなあ、プログラムの本は“Hello, World”からはじまるのが習わしですよ。文字列が使えなかったら最初の1ページから挫折ですよ」</p>
</blockquote>
<p>うん。“Hello, World”は文字列リテラルだから、初心者も使ってもいい。リテラルを使っているだけなら安全だ。でも、文字列はヤバい。</p>
<blockquote>
<p>「え？その2つって違うんですか？というか文字列型が使えなかったらいったいどんなプログラムを書くんですか。何にも出来ないですよ」</p>
</blockquote>
<p>文字列型が使えなかったら、プログラムは書けない？</p>
<blockquote>
<p>「ええ、書けません。だって、どんな計算をしても、出力できなきゃ何もしてないのと同じです。過程ではなく結果が大事なのです！」</p>
</blockquote>
<p>残念なお知らせだ。C言語には文字列型は、ない。</p>
<blockquote>
<p>「プログラム書けないじゃないですか・・・」</p>
</blockquote>
<p>文字列型がないというのは、特に重要なC言語の特徴だと思う。 C言語には文字型はあるが、文字列型はない。まあ、文字型といっても実体は文字コードを格納するための整数型なんだけども、 C言語が「この整数型は文字コードを入れるためのものだ」としている型はある。文字列は、この文字型の配列として表現する。</p>
<blockquote>
<p>「じゃあ、文字列はあるじゃないですか」</p>
</blockquote>
<p>でも、文字の配列と文字列が同じ言語って他に思いつく？</p>
<p>Javaはその2つの間を変換できるようになっているけど、でも、Char型の配列とString型は全然違うものじゃないか？</p>
<blockquote>
<p>「うーん・・・、そう言われればそうですけど、ピンとこないです」</p>
</blockquote>
<h2 id="配列">配列</h2>
</div>
<div class="note">
</div>
</div>
</body>
</html>
